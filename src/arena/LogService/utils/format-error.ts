import type { BreaksMessage, FailArgs } from '@/arena/Constuructors/types';

/**
 * msg
 * @todo WIP, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞ —Ç.–ø —Ç–∞–∫ –∏
 * —É–º–µ—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å i18n
 * —Å–µ–π—á–∞—Å (–µ) –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–π —Ç–∏–ø Error
 * –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ BattleLog –≤—ã–±—Ä–æ—Å, –µ–≥–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å –¥–∞–ª—å—à–µ –≤–≤–µ—Ä—Ö
 */
export function formatError(msgObj: FailArgs): string {
  const {
    action, message, target, initiator,
  } = msgObj;

  const expString = 'expArr' in msgObj ? msgObj.expArr.map(({ name, exp }) => `${name}: üìñ${exp}`).join(', ') : '';
  const weapon = 'weapon' in msgObj ? msgObj.weapon.case : '';

  const TEXT: Record<BreaksMessage | 'default', Record<'en' | 'ru', string>> = {
    NO_INITIATOR: {
      ru: `–ù–µ–∫—Ç–æ —Ö–æ—Ç–µ–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _${action}_ –Ω–∞ –∏–≥—Ä–æ–∫–∞ *${target}*, –Ω–æ –∏—Å—á–µ–∑`,
      en: '',
    },
    NO_TARGET: {
      ru: `–¶–µ–ª—å –¥–ª—è –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è _${action}_ –∏–≥—Ä–æ–∫–∞ *${initiator}* –Ω–µ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞`,
      en: '',
    },
    NO_MANA: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _${action}_ –Ω–∞ *${target}, –Ω–æ –Ω–µ —Ö–≤–∞—Ç–∏–ª–æ –º–∞–Ω—ã`,
      en: '',
    },
    NO_ENERGY: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å  _${action}_, –Ω–æ –Ω–µ —Ö–≤–∞—Ç–∏–ª–æ —ç–Ω–µ—Ä–≥–∏–∏`,
      en: '',
    },
    SILENCED: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è —Å–æ—Ç–≤–æ—Ä–∏—Ç—å _${action}_, –Ω–æ –ø–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å (–±–µ–∑–º–æ–ª–≤–∏–µ)`,
      en: '',
    },
    CHANCE_FAIL: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è —Å–æ—Ç–≤–æ—Ä–∏—Ç—å _${action}_, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ –≤—ã—à–ª–æ`,
      en: '',
    },
    GOD_FAIL: {
      ru: `–ó–∞–∫–ª–∏–Ω–∞–Ω–∏–µ _${action}_ *${initiator}* –ø—Ä–æ–≤–∞–ª–∏–ª–æ—Å—å –ø–æ –≤–æ–ª–µ –±–æ–≥–æ–≤`,
      en: '',
    },
    HEAL_FAIL: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è _–≤—ã–ª–µ—á–∏—Ç—å_ *${target}*, –Ω–æ —Ç–æ—Ç –±—ã–ª –∞—Ç–∞–∫–æ–≤–∞–Ω`,
      en: '',
    },
    SKILL_FAIL: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–µ–Ω–∏–µ _${action}_, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ –≤—ã—à–ª–æ`,
      en: '',
    },
    NO_WEAPON: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è –∞—Ç–∞–∫–æ–≤–∞—Ç—å *${target}*, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ –æ–∫–∞–∑–∞–ª–æ—Å—å –æ—Ä—É–∂–∏—è –≤ —Ä—É–∫–∞—Ö`,
      en: '',
    },
    DEF: {
      ru: `*${initiator}* –∞—Ç–∞–∫–æ–≤–∞–ª *${target}* _${weapon}_, –Ω–æ —Ç–æ—Ç —Å–º–æ–≥ –∑–∞—â–∏—Ç–∏—Ç—å—Å—è \\[${expString}]`,
      en: '',
    },
    DODGED: {
      ru: `*${initiator}* –∞—Ç–∞–∫–æ–≤–∞–ª *${target}* _${weapon}_, –Ω–æ —Ç–æ—Ç —É–∫–ª–æ–Ω–∏–ª—Å—è –æ—Ç –∞—Ç–∞–∫–∏`,
      en: '',
    },
    ECLIPSE: {
      ru: `*${initiator}* –ø–æ–ø—ã—Ç–∞–ª—Å—è –∞—Ç–∞–∫–æ–≤–∞–ª *${target}* –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ —É–≤–∏–¥–µ–ª –≤–æ —Ç—å–º–µ`,
      en: '',
    },
    PARALYSED: {
      ru: `*${initiator}* –ø–æ–ø—ã—Ç–∞–ª—Å—è –∞—Ç–∞–∫–æ–≤–∞–ª –Ω–æ –±—ã–ª –ø–∞—Ä–∞–ª–∏–∑–æ–≤–∞–Ω üóø`,
      en: '',
    },
    PARRYED: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è –∞—Ç–∞–∫–æ–≤–∞—Ç—å *${target}*, –Ω–æ –∞—Ç–∞–∫–∞ –±—ã–ª–∞ \\[_–ü–∞—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞_]`,
      en: '',
    },
    DISARM: {
      ru: `*${initiator}* –ø—ã—Ç–∞–ª—Å—è –∞—Ç–∞–∫–æ–≤–∞—Ç—å *${target}*, –Ω–æ –æ–∫–∞–∑–∞–ª—Å—è \\[_–û–±–µ–∑–∞—Ä—É–∂–µ–Ω_]`,
      en: '',
    },
    default: {
      ru: '–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫–∏ –º–∞–≥–∏–∏',
      en: '',
    },
  };

  const text = TEXT[message];

  if (!text) {
    console.log(message);
    return TEXT.default.ru;
  }
  // @todo —Å–µ–π—á–∞—Å battleLog –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Ç–∏–ø—ã –º–∞–≥–∏–π, –∏
  // –ø—Ä–æ—Å—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É
  return text.ru;
}
